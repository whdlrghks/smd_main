<% include ./includes/header.ejs %>
  <!-- Breadcrumbs -->

  <div class="breadcrumbs">
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <ul>
            <li class="home"> <a title="Go to Home Page" href="/">홈</a><span>&raquo;</span></li>
            <li><strong>회원가입</strong></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <!-- Breadcrumbs End -->

  <!-- Main Container -->
  <section class="main-container col1-layout">
    <div class="main container">
      <div class="page-content">
        <div class="account-login">
          <div class="col-md-3 col-sm-2"></div>
          <div class="col-md-6 col-sm-8">

              <form id='joinAction' name='joinAction' action ="/auth/register" method="post">
                <div class="row">
                  <div class="col-xs-12">
                    <div class="check-title">
                      <h4>'세면대'에 오신것을 진심으로 환영합니다!</h4>
                      <h6>아래의 양식을 채워주세요.</h6>
                    </div>
                  </div>
                  <div class="pagination-area "></div>

                  <div class="col-sm-6">
                    <label>아이디:</label>
                    <div class="input-text">
                      <input type="text" class="form-control" id="username" name="username" placeholder="예시) abc1234">
                      <!-- <input ID = 'username' type="text" name="username" value="<%=username_check%>" placeholder="ID" class="form-control" readonly><a href="#" onclick="window.open('/popup/id_check','ID 중복확인','width=430,height=500,left=150, top=100, location=no,status=no,scrollbars=yes');"><i class="fa fa-check"></i><span class="hidden-xs" style="color:red">ID 중복확인</span></a> -->
                      <span  class="error_text" id="email_dup_check" style=""></span>
                    </div>

                  </div>
                  <div class="col-xs-12">
                    <label>비밀번호:</label>
                    <div class="input-text">
                      <input ID = 'password' type="password" name="password" placeholder="password" class="form-control">
                    </div>
                  </div>
                  <div class="col-xs-12">
                    <label>비밀번호 확인:</label>
                    <div class="input-text">
                      <input ID = 'passwordcheck' type="password" name="passwordcheck" placeholder="passwordcheck" class="form-control">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>이름:</label>
                    <div class="input-text">
                      <input ID = 'displayName' type="text" name="displayName" placeholder="displayName" class="form-control">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>성별:</label>
                    <div class="input-text">
                      <input type="checkbox" name="gender" value="Man" class="form-control">남자
                      <input type="checkbox" name="gender" value="Woman"class="form-control" > 여자
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>나이:</label>
                    <div class="input-text">
                      <input type="text" name="age" class="form-control">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>직업:</label>
                    <div class="input-text">
                      <select name="job">
                           <option value="">직업선택</option>
                           <option value="학생">학생</option>
                           <option value="회사원">회사원</option>
                           <option value="기타">기타</option>
                       </select>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label>이메일:</label>
                    <div class="input-text">
                      <input ID = 'email' type="text" name="email" class="form-control">
                    </div>
                  </div>
                  <div class="pagination-area "></div>

                  <div class="col-xs-12">
                    <div class="submit-text">
                      <button class="button" type="button" onClick="addUser();"><i class="fa fa-user"></i>&nbsp; <span>가입 신청하기</span></button>
                    </div>
                  </div>
                </div>
              </form>

          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Main Container End -->
  <!-- Footer -->

  <footer>
    <div class="footer-newsletter">
      <div class="container">
        <div class="row">
          <div class="col-md-8 col-sm-7">
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm-6 col-md-4 col-xs-12 col-lg-3">
          <div class="footer-logo"><a href="/"><img src="images/saemyundae_logo2.png" alt="fotter logo"></a> </div>
          <p>세면대는 인터넷 면세점을 이용하거나 관련 정보를 얻고 싶을 때 도움을 주는 최고의 ‘도우미’입니다.</p>

        </div>
        <div class="col-sm-6 col-md-3 col-xs-12 col-lg-3 collapsed-block">
          <div class="footer-content">
            <div class="email"> <i class="fa fa-envelope"></i>
              <p><a href="mailto:support@template.com">smdManager123@gmail.com</a></p>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-xs-12 col-lg-3 collapsed-block">
          <div class="footer-content">
            <div class="phone"> <i class="fa fa-phone"></i>
              <p>(02) 712-5233</p>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-xs-12 col-lg-3 collapsed-block">
          <div class="footer-content">
            <div class="address"> <i class="fa fa-map-marker"></i>
              <p> 서울시 노원구 공릉동 232-2 3층</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="footer-coppyright">
      <div class="container">
        <div class="row">
          <div class="col-sm-6 col-xs-12 coppyright"> Copyright © 2017 <a href="#"> Modern </a>. All Rights Reserved. </div>
          <div class="col-sm-6 col-xs-12">
            <div class="payment">
              <ul>
                <li><a href="#"><img title="Visa" alt="Visa" src="images/visa.png"></a></li>
                <li><a href="#"><img title="Paypal" alt="Paypal" src="images/paypal.png"></a></li>
                <li><a href="#"><img title="Discover" alt="Discover" src="images/discover.png"></a></li>
                <li><a href="#"><img title="Master Card" alt="Master Card" src="images/master-card.png"></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div> -->
  </footer>
  <a href="#" class="totop"> </a> </div>

<!-- End Footer -->
<!-- JS -->

<!-- chekc password -->
<script type="text/javascript" src="js/jquery-1.10.2.js"></script>



<!-- jquery js -->
<script type="text/javascript" src="js/jquery.min.js"></script>

<!-- bootstrap js -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>

<!-- owl.carousel.min js -->
<script type="text/javascript" src="js/owl.carousel.min.js"></script>

<!-- bxslider js -->
<script type="text/javascript" src="js/jquery.bxslider.js"></script>

<!--jquery-slider js -->
<script type="text/javascript" src="js/slider.js"></script>

<!-- megamenu js -->
<script type="text/javascript" src="js/megamenu.js"></script>
<script type="text/javascript">
        /* <![CDATA[ */
        var mega_menu = '0';

        /* ]]> */
        </script>

<!-- jquery.mobile-menu js -->
<script type="text/javascript" src="js/mobile-menu.js"></script>

<!--jquery-ui.min js -->
<script type="text/javascript" src="js/jquery-ui.js"></script>

<!-- main js -->
<script type="text/javascript" src="js/main.js"></script>

<script>
function addUser() {
            var id = $('#username').val();
            var pw = $('#password').val();
            var repw = $('#passwordcheck').val();
            var name = $('#displayName').val();
            var mail = $('#email').val();
            var pwchk = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{4,12}$/; //비번 체크
            if(id == ''||  pw == '' || repw == '' || name == '' || mail == '') {
                alert("모든 칸을 채워주세요");
                // return false;
            } else {
                if(pwchk.test(pw) == false) {
                    alert("비번은 4~12자리 영어와 숫자, 특수문자가 모두 포함되어야 합니다");
                    pw.focus();
                    // return false;
                } else {
                    if(pw != repw) {
                        alert ("비밀번호는 똑같아야 합니다 ");
                    } else {
                        $('#joinAction').submit();
                    }
                }
            }
          }
  $(function() {
    $('#username').keyup(function() {
      if ($('#username').val().length >= 4) {
        // var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i; // email check
        // if (!re.test($('#username').val())) {
          // $('#email_dup_check').html("아이디 형식을 확인하세요.").css('color', 'red');
        // } else {
          $.get('/auth/check_id?id=' + $('#username').val(), function(result) {
            if (result.result == 1) {
              $('#email_dup_check').html("해당 아이디는 이미 존재합니다.").css('color', 'red');
            } else {
              $('#email_dup_check').html("사용 가능합니다.").css('color', 'blue');
            }
          });
        // }
      }
    });
  });
</script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
 $(document).ready(function() {
    $.ajax({
      type: "POST",
      url: "/autocomplete",
      async: true,
      dataType: "JSON",
      success: function(json) {
        $("#searchbox").autocomplete({
          source:  function(request, response) {
                var results = $.ui.autocomplete.filter(json, request.term);
                response(results.slice(0, 10));
            },
          select: function(event, ui) {
            console.log(ui.item);
          },
          focus: function(event, ui) {
            $("#searchbox").val(ui.item.label);
            return false;
            //event.preventDefault();
          }
        });
      }
    })
  })
</script>
</body>
</html>
